"use strict";System.register(["Layout/HelperObjects.js","Languages/LocalizationHelper.js"],function(n){function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var u,t,i,r;return{setters:[function(n){u=n.TableObject},function(n){t=n.Localization}],execute:function(){i=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}();n("AuditLogsWindow",r=function(){function n(){f(this,n)}return i(n,[{key:"load",value:function(){var n=new t,i=abp.services.app.auditLog,r=$("body");$(document).ready(function(){var t=void 0,f=function(){var r=$("#TenantId").val();t&&t.destroy();abp.ui.setBusy();i.getAuditLogTable({getAll:!0,tenantId:r}).done(function(i){var r;abp.ui.clearBusy();r=$("#tenancyName");i.tenancyName&&r.append(n.localize("Tenant")+" : "+i.tenancyName);var u=i.auditLogs,f=[{targets:0,render:function(n,t,i){return'<a class="btn btn-primary btn-xs js-details-log" data-id="'+i.id+'"><i data-id="'+i.id+'" class="fa fa-search"><\/i><\/a>'}}];t=$("#audit-logs-table").DataTable({data:u,columns:[{title:"",data:"id"},{title:"Service Name",data:"serviceName"},{title:"Method Name",data:"methodName"},{title:"IP",data:"clientIpAddress"},{title:"Execution Time",data:"executionTimeString"}],columnDefs:f})}).always(function(){abp.ui.clearBusy()})},u;f();u=function(n){var t=$(n.target).data("id");periModal.open("/AdminMpa/AuditLogs/GetLogDetails/"+t,null,function(){})};r.on("click",".js-details-log",u)})}}]),n}());n("AuditLogsWindow",r)}}});